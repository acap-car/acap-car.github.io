(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2999],{43370:function(e,n,t){"use strict";var r=t(85893),o=t(9008),a=t(47426);n.Z=function(e){var n=e.title,t=e.ogDescription,i=e.ogImageURL,c=e.ogImgAlt,u=void 0===c?"Picture":c,l=e.ogSiteName,s=void 0===l?"ACAP-".concat(a.Gt.toUpperCase()):l,f=e.ogURL,p=e.canonicalURL,d=void 0===p?"http://localhost":p;return(0,r.jsxs)(o.default,{children:[(0,r.jsx)("meta",{name:"description",content:t}),(0,r.jsx)("meta",{rel:"canonical",href:d}),(0,r.jsx)("meta",{name:"og:description",content:t}),(0,r.jsx)("meta",{property:"og:title",content:n}),(0,r.jsx)("meta",{property:"og:site_name",content:s}),(0,r.jsx)("meta",{property:"og:image",content:i}),(0,r.jsx)("meta",{property:"og:image:width",content:"600"}),(0,r.jsx)("meta",{property:"og:image:height",content:"315"}),(0,r.jsx)("meta",{property:"og:image:alt",content:u}),(0,r.jsx)("meta",{property:"og:url",content:f}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:n}),(0,r.jsx)("meta",{name:"twitter:image",content:i}),(0,r.jsx)("title",{children:n})]})}},48889:function(e,n,t){"use strict";t.d(n,{Z:function(){return Ye}});var r=t(34051),o=t.n(r),a=t(85893),i=t(67294),c=t(63835),u=t(45697),l=t.n(u),s=t(9669),f=t.n(s),p=t(99431),d=t(94763);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){b(a,r,o,i,c,"next",e)}function c(e){b(a,r,o,i,c,"throw",e)}i(void 0)}))}}function m(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){g(e,n,t[n])}))}return e}function w(e,n){return!n||"object"!==P(n)&&"function"!==typeof n?v(e):n}function E(e,n){return E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},E(e,n)}var P=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=x(e);if(n){var o=x(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return w(this,t)}}var D={DELETE_BULLETIN:"".concat("https://amia-cis-v0es.onrender.com/api","/bulletins")},S=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(i,e);var n,t,r,a=O(i);function i(){var e;return m(this,i),g(v(e=a.apply(this,arguments)),"FirestoreQuery",new d.Z),g(v(e),"AxiosCancelSource",f().CancelToken.source()),e}return n=i,(t=[{key:"deleteBulletin",value:function(e){var n=e.type,t=e.filename,r=this;return y(o().mark((function e(){var a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:n,filename:t},e.next=3,r.createRequestObject({body:a});case 3:return i=e.sent,r.AxiosCancelSource=f().CancelToken.source(),e.next=7,f()(j({},i,{url:D.DELETE_BULLETIN,method:"DELETE",cancelToken:r.AxiosCancelSource.token}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()}},{key:"getBulletins",value:function(e){var n=this;return y(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.FirestoreQuery.getCollectionData(e,"idstr");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},{key:"cancelAxiosRequest",value:function(e){this.AxiosCancelSource.cancel(e)}}])&&h(n.prototype,t),r&&h(n,r),i}(p.Z),L=new S,_=L.deleteBulletin.bind(L),k=L.getBulletins.bind(L),A=L.cancelAxiosRequest.bind(L),R=t(901),C=t(90155);function T(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){I(e,n,t[n])}))}return e}var G={loading:!1,error:"",status:R.G.IDLE};function F(e){var n=e.type,t=e.filename,r=e.action,a=(0,i.useState)(G),c=a[0],u=a[1];return(0,i.useEffect)((function(){return function(){A("Aborting delete bulletin request")}}),[]),(0,i.useEffect)((function(){var e=function(){var e,r=(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u((function(e){return Z({},e,{loading:!0,error:"",status:R.G.PENDING})})),e.next=4,_({type:n,filename:t});case 4:u((function(e){return Z({},e,{loading:!1,error:"",status:R.G.FULLFILLED})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),"Aborting delete bulletin request"!==e.t0.message&&u((function(n){var t;return Z({},n,{loading:!1,error:(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.data)||e.t0.message,status:R.G.IDLE})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){T(a,r,o,i,c,"next",e)}function c(e){T(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();t&&r===C.RW.DELETE&&e()}),[t,r,n]),{state:c}}var N=new(t(1029).d),B=(N.getPageAssetsDoc.bind(N),N.getTyphoonAdvisory.bind(N),N.getPdfDownloadURL.bind(N));function U(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){W(e,n,t[n])}))}return e}var V={loading:!1,error:"",status:R.G.IDLE,url:""};function Y(e){var n=e.filename,t=e.type,r=e.urlsegment,a=e.action,c=(0,i.useState)(V),u=c[0],l=c[1];return(0,i.useEffect)((function(){var e=function(){var e,a=(e=o().mark((function e(){var a,i,c,u,s,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l((function(e){return M({},e,{loading:!0,error:"",url:"",status:R.G.PENDING})})),e.next=4,B(n,t);case 4:return a=e.sent,e.next=7,f().get(a,{responseType:"blob"});case 7:i=e.sent,c=a.substring(a.indexOf(r.keyword)+r.charlength,a.length),u=c.substring(0,c.indexOf("?")),s=window.URL.createObjectURL(new Blob([i.data])),(p=document.createElement("a")).href=s,p.setAttribute("download",decodeURI(u)),document.body.appendChild(p),p.click(),document.body.removeChild(p),l((function(e){return M({},e,{loading:!1,url:a,status:R.G.FULLFILLED})})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),l((function(n){var t;return M({},n,{loading:!1,url:"",error:(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.data)||e.t0.message,status:R.G.IDLE})}));case 23:case"end":return e.stop()}}),e,null,[[0,20]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){U(a,r,o,i,c,"next",e)}function c(e){U(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();n&&a===C.RW.DOWNLOAD&&e()}),[n,t,r,a]),{state:u}}var z=t(77715);function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function q(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){K(e,n,t[n])}))}return e}function Q(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return H(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X={loading:!1,error:"",status:R.G.IDLE,random:""};function $(e){var n=e.currentbulletin,t=e.statdload,r=e.statdelete,a=e.fetch,c=(0,i.useState)(X),u=c[0],l=c[1],s=(0,i.useState)({}),f=s[0],p=s[1],d=(0,i.useState)(C.n5),v=d[0],b=d[1],y=(0,i.useState)(!1),m=y[0],h=y[1],g=(0,i.useState)(!1),x=g[0],j=g[1],w=(0,i.useState)(""),E=w[0],P=w[1];return(0,i.useEffect)((function(){var e=!0,t=function(){var t,r=(t=o().mark((function t(){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l((function(e){return J({},e,{loading:!0,error:"",status:R.G.PENDING})})),t.next=4,k(n.collection);case 4:r=t.sent,a={},r.forEach((function(e){void 0===a[e.province]&&(a[e.province]=[]),a[e.province].push({province:e.province,filename:e.filename,date_created:(0,z.Xn)(e.date_created),loading:!1,error:""})})),e&&(p(a),l((function(e){return J({},e,{loading:!1,error:"",status:R.G.FULLFILLED})}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e&&l((function(e){var n;return J({},e,{loading:!1,error:(null===t.t0||void 0===t.t0||null===(n=t.t0.response)||void 0===n?void 0:n.data)||t.t0.message,status:R.G.IDLE})}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){q(a,r,o,i,c,"next",e)}function c(e){q(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return a&&e&&t(),function(){e=!1}}),[a,n.collection]),(0,i.useEffect)((function(){var e=t.status===R.G.PENDING||r.status===R.G.PENDING;if(j(m!==e),h(e),!e){var o=n.action===C.RW.DELETE?r.error:t.error;P(o)}}),[t,r,n.action,m]),(0,i.useEffect)((function(){if(""!==n.province&&""!==n.filename&&b(n),x){var e=""!==n.filename?J({},n):J({},v);""!==e.filename&&function(e){var n=e.province,t=e.filename,r=Q(f[n]),o=r.findIndex((function(e){return e.filename===t}));o>=0?(r[o].loading=m,r[o].error=E,p((function(e){return J({},e,K({},n,Q(r)))})),P(""),j(!1)):l((function(e){return J({},e,{loading:!1,error:"Index not found.",status:R.G.IDLE})}))}({province:e.province,filename:e.filename,loading:m})}}),[m,n,v,f,E,x]),{state:u,bulletins:f}}var ee=t(15861),ne=t(86886),te=t(87357),re=t(88409),oe=t(40044),ae=t(78462),ie=t(97212),ce=t(48885),ue=t(59334),le=t(98456),se=t(93946),fe=t(82280),pe=t(38895),de=t(22797),ve=t(23508),be=t(62665),ye=t(63441),me=t(41733),he=t(12963),ge=t(50122),xe=t(41664),je={breacrumbs:{"& a":{color:function(e){return e.palette.secondary.main},textDecoration:"none"},"& a:visited":{color:"#000"},"& a:hover, span:hover":{color:function(e){return e.palette.primary.dark}},fontSize:"16px",marginTop:function(e){return e.spacing(2)}}};var we=function(e){var n=e.navdata;return(0,a.jsx)(he.Z,{"aria-label":"breadcrumb",sx:je.breacrumbs,children:n.map((function(e,n){return void 0!==e.href?(0,a.jsx)(ge.Z,{underline:"hover",color:"inherit",children:(0,a.jsx)(xe.default,{href:e.href,passHref:!0,children:(0,a.jsx)("span",{children:e.name})})},"bcd-".concat(n)):(0,a.jsx)("div",{color:"text.primary",children:e.name},"bcd-".concat(n))}))})};function Ee(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function Pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Pe(e,n,t[n])}))}return e}var De={loading:!1,error:"",status:R.G.IDLE,pdfUrl:""};function Se(e){var n=e.filename,t=e.type,r=e.action,a=e.urlsegment,c=(0,i.useState)(De),u=c[0],l=c[1];return(0,i.useEffect)((function(){return function(){l((function(e){return Oe({},e,{loading:!1,error:"Preview aborted",status:R.G.IDLE})}))}}),[]),(0,i.useEffect)((function(){var e=function(){var e,a=(e=o().mark((function e(){var a,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r===C.RW.PREVIEW){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,l((function(e){return Oe({},e,{loading:!0,error:"",pdfUrl:"",status:R.G.PENDING})})),e.next=6,B(n,t);case 6:return a=e.sent,e.next=9,f().get(a,{responseType:"blob"});case 9:i=e.sent,c=window.URL.createObjectURL(new Blob([i.data])),l((function(e){return Oe({},e,{loading:!1,pdfUrl:c,status:R.G.FULLFILLED})})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),l((function(n){var t;return Oe({},n,{loading:!1,pdfUrl:"",error:(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.data)||e.t0.message,status:R.G.IDLE})}));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){Ee(a,r,o,i,c,"next",e)}function c(e){Ee(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();n&&r===C.RW.PREVIEW&&e()}),[n,t,r,a]),{state:u}}var Le=t(50657),_e=t(37645),ke=t(6514),Ae=t(31425),Re=t(11057),Ce=t(54141),Te=(t(18177),function(e){var n=e.open,t=e.onClose,r=e.selectedPdf,o=e.pdfUrl;return(0,a.jsxs)(Le.Z,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,children:[(0,a.jsx)(_e.Z,{children:null===r||void 0===r?void 0:r.filename}),(0,a.jsx)(ke.Z,{children:o?(0,a.jsx)(Ce.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:(0,a.jsx)(Ce.Viewer,{fileUrl:o})}):(0,a.jsx)("div",{children:"loading"})}),(0,a.jsx)(Ae.Z,{children:(0,a.jsx)(Re.Z,{onClick:t,color:"primary",children:"Close"})})]})});Te.propTypes={open:l().bool.isRequired,onClose:l().func.isRequired,selectedPdf:l().object,pdfUrl:l().string};var Ie=Te,Ze=JSON.parse('{"a":{"Abra":["Bangued","Boliney","Bucay","Bucloc","Daguioman","Danglas","Dolores","La Paz","Lacub","Lagangilang","Lagayan","Langiden","Licuan-Baay","Luba","Malibcong","Manabo","Pe\xf1arrubia","Pidigan","Pilar","Sallapadan","San Isidro","San Juan","San Quintin","Tayum","Tineg","Tubo","Villaviciosa"],"Apayao":["Calanasan","Conner","Flora","Kabugao","Luna","Pudtol","Santa Marcela"],"Benguet":["Atok","Baguio City","Bakun","Bokod","Buguias","Itogon","Kabayan","Kapangan","Kibungan","La Trinidad","Mankayan","Sablan","Tuba","Tublay"],"Ifugao":["Aguinaldo","Alfonso Lista","Asipulo","Banaue","Hingyon","Hungduan","Kiangan","Lagawe","Lamut","Mayoyao","Tinoc"],"Kalinga":["Balbalan","Lubuagan","Pasil","Pinukpuk","Rizal","Tabuk City","Tanudan","Tinglayan"],"Mountain Province":["Barlig","Bauko","Besao","Bontoc","Natonin","Paracelis","Sabangan","Sadanga","Sagada","Tadian"]}}');function Ge(e){var n=e.provinces,t=e.bulletins,r=e.isDeleting,o=e.isFetching,c=e.isPDFLoading,u=e.isUser,l=e.handleClick,s=e.onDeleteClick,f=e.subtitle,p=void 0===f?"":f,d="General Special Recommendations",v=(0,i.useState)(null),b=v[0],y=v[1],m=Se({filename:null===b||void 0===b?void 0:b.filename,type:null===b||void 0===b?void 0:b.type,action:null===b||void 0===b?void 0:b.action}).state,h=function(e){return e.includes("special")?"special_weather":e.includes("10_day")||e.includes("ten_day")?"ten_day":"seasonal"},g=(0,i.useState)(!1),x=g[0],j=g[1],w=function(){return j(!0)},E=(0,i.useState)(0),P=E[0],O=E[1],D=Ze.a,S=function(e){return e.toLowerCase().replace(/[-\s]+/g,"_")},L=Object.values(t).some((function(e){return e.some((function(e){return e&&"special_weather"===h(e.filename)}))})),_=function(e,n,t){var r=e.replace(".pdf",""),o=function(e){return e.toLowerCase().replace(/\s+/g,"[_ ]").trim()},a=new RegExp("[_ ]*(".concat(o(n),")[_ ]*"),"gi"),i=new RegExp("[_ ]*(".concat(o(t),")[_ ]*"),"gi");return r.replace(a,"").replace(i,"").replace(/[_ ]+/g," ").trim()};return(0,a.jsxs)("div",{role:"presentation",children:[(0,a.jsx)(ee.Z,{variant:"h4",children:"Bulletins"}),(0,a.jsx)(ee.Z,{variant:"h5",children:p}),(0,a.jsx)(we,{navdata:[{name:"Bulletins",href:"/bulletins"},{name:p}]}),(0,a.jsx)(ne.ZP,{container:!0,justifyContent:"center",sx:{width:"100%",marginTop:function(e){return e.spacing(1)}},children:(0,a.jsxs)(ne.ZP,{item:!0,xs:10,children:[(0,a.jsx)(te.Z,{sx:{display:"flex",justifyContent:"center",overflowX:"auto"},children:(0,a.jsx)(re.Z,{value:P,onChange:function(e,n){return O(n)},variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,textColor:"secondary",indicatorColor:"secondary",children:L?(0,a.jsx)(oe.Z,{label:d},"tab-special"):n.map((function(e,n){return(0,a.jsx)(oe.Z,{label:"n/a"!==e?e:d},"tab-".concat(n))}))})}),L?(0,a.jsx)("div",{hidden:0!==P,children:t["n/a"]&&t["n/a"].length>0?(0,a.jsx)(ae.Z,{dense:!0,sx:{padding:0},children:t["n/a"].map((function(e,n){return(0,a.jsxs)(ie.ZP,{children:[(0,a.jsx)(ce.Z,{children:(0,a.jsx)(be.Z,{})}),(0,a.jsx)(ue.Z,{title:"Preview PDF",sx:{cursor:"pointer","&:hover":{backgroundColor:"rgba(53, 177, 248, 0.1)",borderRadius:"4px"}},secondary:"Created on ".concat(e.date_created," ").concat(e.error?"Error: ".concat(e.error):""),primaryTypographyProps:{fontSize:"12px"},secondaryTypographyProps:{fontSize:"10px"},onClick:function(){y({filename:e.filename,type:e.type||h(e.filename),action:C.RW.PREVIEW}),w()},children:_(e.filename,"General","")}),(0,a.jsx)(le.Z,{size:20,color:"third",sx:{display:e.loading&&(o||r||c)?"block":"none"}}),(0,a.jsx)(se.Z,{color:"primary",style:{margin:".2em"},title:"Download PDF",onClick:function(n){n.preventDefault(),o||r||c||l("n/a",e.filename)},children:(0,a.jsx)(ye.Z,{})}),u&&(0,a.jsx)(se.Z,{color:"error",style:{margin:".2em"},disabled:o||r||c,onClick:function(){return s(e)},title:"Delete",children:(0,a.jsx)(me.Z,{})})]},"pdf-list-special-".concat(n))}))}):(0,a.jsx)(ee.Z,{variant:"caption",children:"No PDFs available in General Special Recommendations."})}):n.map((function(e,n){var i;return(0,a.jsx)("div",{hidden:P!==n,children:null===(i=D[e])||void 0===i?void 0:i.map((function(n,i){var f,p=S(n),d=null===(f=t[e])||void 0===f?void 0:f.filter((function(e){return S(e.filename).includes(p)}));return(0,a.jsxs)(fe.Z,{children:[(0,a.jsx)(pe.Z,{expandIcon:(0,a.jsx)(ve.Z,{}),"aria-controls":"panel".concat(i,"-content"),children:(0,a.jsx)(ee.Z,{variant:"subtitle2",children:n})}),(0,a.jsx)(de.Z,{children:d&&d.length>0?(0,a.jsx)(ae.Z,{dense:!0,sx:{padding:0},children:d.map((function(t,i){return(0,a.jsxs)(ie.ZP,{children:[(0,a.jsx)(ce.Z,{children:(0,a.jsx)(be.Z,{})}),(0,a.jsx)(ue.Z,{title:"Preview PDF",sx:{cursor:"pointer","&:hover":{backgroundColor:"rgba(53, 177, 248, 0.1)",borderRadius:"4px"}},secondary:"Created on ".concat(t.date_created," ").concat(t.error?"Error: ".concat(t.error):""),primaryTypographyProps:{fontSize:"12px"},secondaryTypographyProps:{fontSize:"10px"},onClick:function(){y({filename:t.filename,type:t.type||h(t.filename),action:C.RW.PREVIEW}),w()},children:_(t.filename,e,n)}),(0,a.jsx)(le.Z,{size:20,color:"third",sx:{display:t.loading&&(o||r||c)?"block":"none"}}),(0,a.jsx)(se.Z,{color:"primary",style:{margin:".2em"},title:"Download PDF",onClick:function(e){e.preventDefault(),o||r||c||l(t.province,t.filename)},children:(0,a.jsx)(ye.Z,{})}),u&&(0,a.jsx)(se.Z,{color:"error",style:{margin:".2em"},disabled:o||r||c,onClick:function(){return s(t)},title:"Delete",children:(0,a.jsx)(me.Z,{})})]},"pdf-list-".concat(i))}))}):(0,a.jsx)(ee.Z,{variant:"caption",children:"No PDFs available for this municipality."})})]},"accordion-".concat(i))}))},"tabpanel-".concat(n))}))]})}),(0,a.jsx)(Ie,{open:x,onClose:function(){return j(!1)},selectedPdf:b,pdfUrl:m.pdfUrl})]})}Ge.propTypes={provinces:l().array,bulletins:l().object,isDeleting:l().bool,isFetching:l().bool,isPDFLoading:l().bool,isUser:l().bool,onDeleteClick:l().func,subtitle:l().string};var Fe=Ge;function Ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Be(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function Ue(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function We(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ue(e,n,t[n])}))}return e}function Me(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Ne(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ne(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e){var n=e.provinces,t=e.subtitle,r=e.currentDefaultBulletin,u=(0,i.useState)(r),l=u[0],s=u[1],f=(0,c.aC)(),p=F(l).state,d=Y(l).state,v=$({currentbulletin:l,statdload:d,statdelete:p,fetch:""===l.filename&&""===p.error&&l.action!==C.RW.DOWNLOAD&&[R.G.FULLFILLED,R.G.IDLE].includes(p.status)}),b=v.state,y=v.bulletins,m=(0,i.useMemo)((function(){if(y&&n)return(null===y||void 0===y?void 0:y["n/a"])?Me(n).concat(["n/a"]):n}),[y,n]);(0,i.useEffect)((function(){p.status!==R.G.FULLFILLED&&d.status!==R.G.FULLFILLED&&""===p.error&&""===d.error||""===l.filename||s((function(e){return We({},e,{filename:"",province:""})}))}),[p,d,l]);var h=function(){var e,n=(e=o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(We({},l,{filename:t,province:n,action:C.RW.DOWNLOAD}));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){Be(a,r,o,i,c,"next",e)}function c(e){Be(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return(0,a.jsx)(Fe,{provinces:m,bulletins:y,isDeleting:(null===p||void 0===p?void 0:p.loading)||!1,isFetching:(null===b||void 0===b?void 0:b.loading)||!1,isPDFLoading:(null===d||void 0===d?void 0:d.loading)||!1,isUser:null!==f.user,handleClick:h,onDeleteClick:function(e){var n=e.province,t=e.filename;s(We({},l,{filename:t,province:n,action:C.RW.DELETE}))},subtitle:t})}Ve.propTypes={provinces:l().array,subtitle:l().string,currentDefaultBulletin:l().object};var Ye=Ve},1029:function(e,n,t){"use strict";t.d(n,{K:function(){return g},d:function(){return x}});var r=t(34051),o=t.n(r),a=t(94763),i=t(25441),c=t(47426),u=t(27392);function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))}}function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,n){return!n||"object"!==m(n)&&"function"!==typeof n?l(e):n}function y(e,n){return y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},y(e,n)}var m=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=v(e);if(n){var o=v(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return b(this,t)}}var g={MEDIA_ASSETS:"n_page_media",ASSETS:"n_page_assets",PAGE_SEARCH:"n_page_search",GLOBAL_COLLECTIONS:"w_services",TYPHOON_ADVISORY:"typhoon_advisory",CYCLONE_ADVISORY:"cyclone_advisory"},x=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(t,e);var n=h(t);function t(){var e;p(this,t);var r=l(e=n.apply(this,arguments));d(l(e),"getPageAssetsDoc",function(){var e=f(o().mark((function e(n,t){var a,i,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],i=[],e.prev=2,e.next=5,r.getDocumentData(g.ASSETS,n);case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return",[]);case 8:if(t){e.next=10;break}return e.abrupt("return",i);case 10:if(!a){e.next=14;break}return e.abrupt("return",i.data.filter((function(e){return e.page===t})));case 14:return e.abrupt("return",i.data.filter((function(e){return e.page===t})).map((function(e){return e.url})));case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(2),console.error(e.t0.message),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(n,t){return e.apply(this,arguments)}}());var a=l(e);d(l(e),"getTyphoonAdvisory",f(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.doc(a.db,g.GLOBAL_COLLECTIONS,g.TYPHOON_ADVISORY),e.next=3,a.getDoc(n);case 3:if(!(t=e.sent).exists()){e.next=6;break}return e.abrupt("return",t.data());case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)}))));var s=l(e);return d(l(e),"getWeatherForecast",function(){var e=f(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getNestedCollectionData(g.WEATHER_FORECASTS,n,t,"name");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),d(l(e),"getPdfDownloadURL",function(){var e=f(o().mark((function e(n){var t,r,a,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.length>1&&void 0!==l[1]?l[1]:u.Ry.SEASONAL,r="",e.t0=t,e.next=e.t0===u.Ry.SEASONAL?5:e.t0===u.Ry.TEN_DAY?7:e.t0===u.Ry.SPECIAL_WEATHER?9:11;break;case 5:return r=c.Do.PDF_STORAGE_SEASONAL,e.abrupt("break",12);case 7:return r=c.Do.PDF_STORAGE_TENDAY,e.abrupt("break",12);case 9:return r=c.Do.PDF_STORAGE_SPECIAL,e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:return e.prev=12,a=(0,i.iH)(i.tO,"".concat(r,"/").concat(n)),e.next=16,(0,i.Jt)(a);case 16:return e.abrupt("return",e.sent);case 19:throw e.prev=19,e.t1=e.catch(12),new Error(e.t1.message);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(n){return e.apply(this,arguments)}}()),e}return t}(a.Z)},90155:function(e,n,t){"use strict";t.d(n,{Do:function(){return r},RW:function(){return o},n5:function(){return a}});var r={PDF_CROPS:"bulletins_pdf_crops",PDF_CROPS_TENDAY:"bulletins_pdf_tenday",PDF_CROPS_SPECIAL:"bulletins_pdf_special",PDF_STORAGE_TENDAY:"bulletins_tenday",PDF_STORAGE_SPECIAL:"bulletins_special",PDF_STORAGE_SEASONAL:"bulletins"},o={DELETE:"delete",DOWNLOAD:"download",IDLE:"idle",PREVIEW:"preview"},a={action:o.IDLE,type:"",collection:r.PDF_CROPS,filename:"",province:"",keyword:""}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},82258:function(){}}]);