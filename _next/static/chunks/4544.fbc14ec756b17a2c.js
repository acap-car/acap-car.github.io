(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4544],{27840:function(e,n,t){"use strict";var r=t(85893),i=t(15861);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=(0,t(11496).ZP)((function(e){return(0,r.jsx)(i.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var n=e.theme;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));n.Z=o},74544:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ve}});var r=t(34051),i=t.n(r),a=t(85893),o=t(9669),s=t.n(o),l=t(67294),c=t(9473),u=t(4936),p=t(45243),d=t.n(p),f=t(98396),h=t(27409),m=t(60795),x=t(86105),g=t(38303),v=t(72471),b=t(97651),y=t(87357),w=t(41664),j=t(25675),S=t(76295),_=t(66242),O=t(98456),k=t(86886),C=t(61903),A=t(15861),z=t(26660),E={daily:{width:{xs:"75px",sm:"65px"},minWidth:{xs:"75px",sm:"65px"},minHeight:"55px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(255, 255, 255, 1.0)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}}},L=t(63365),M=t(48038);var Z=function(e){var n=e.dailyweather;return(0,a.jsxs)(y.Z,{sx:E.daily,children:[(0,a.jsx)("div",{className:"daily-date",children:n.day}),(0,a.jsx)("div",{children:(0,a.jsx)(j.default,{unoptimized:!0,src:n.icon,height:25,width:25,loader:z.imageLoader,alt:n.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(L.Z,{fontSize:"12px"}),(0,a.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M.Z,{fontSize:"12px"}),n.wind_speed]})]})]})},D=t(27840);var P,I,N,W={card:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"150px",sm:"390px"},maxWidth:"380px",marginTop:function(e){return e.spacing(10)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5":{marginBottom:function(e){return e.spacing(2)},fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:function(e){return e.palette.primary.main},textDecoration:"none"},"& a:hover":{color:function(e){return e.palette.third.main}}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:"490px",padding:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(3)},fontSize:{xs:"11px",sm:"14px"},"& td":{padding:(P={xs:0},I="xs",N="1px",I in P?Object.defineProperty(P,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[I]=N,P)}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"column",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"12px",marginLeft:"16px",fontSize:"10px"}},info:{minWidth:"285px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:"12px"}}},T=t(901);function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){R(e,n,t[n])}))}return e}var F=function(e){var n=e.sel_options,t=e.weather,r=e.forecast,i=e.record,o=e.isSmallScreen,s=void 0!==o&&o,u=e.onSelectItemChange,p=(0,l.useState)(0),d=p[0],f=p[1],h=(0,c.v9)((function(e){return e.provinces})),m=(0,c.v9)((function(e){return e.municipalities})),x=(0,c.v9)((function(e){return e.tendayweather})),g=(0,l.useState)(!0),v=g[0],b=g[1];(0,l.useEffect)((function(){var e=function(){return f((window.innerWidth-E())/2+24)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var E=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200};return(0,l.useEffect)((function(){var e=h.status!==T.G.FULLFILLED||x.status!==T.G.FULLFILLED;b(e)}),[h.status,x.status,h.error,x.error]),(0,a.jsxs)(y.Z,{sx:{position:"absolute",top:function(e){return e.constants.navbar.outerHeight-35},right:d,marginLeft:"24px",zIndex:400},className:"mui-fixed",children:[(0,a.jsxs)(_.Z,{variant:"outlined",sx:W.card,children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(A.Z,{variant:"h5",sx:{fontWeight:"bold",textAlign:"center",letterSpacing:"0.1em"},children:"Cordillera Region Weather Today"}),(0,a.jsx)(S.Z,{disablePortal:!0,id:"province",value:h.province,disabled:0===h.ids.length||v,options:Object.values(h.entities),size:"small",renderInput:function(e){return(0,a.jsx)(C.Z,B({},e,{label:null===h.province?"Select a province":"Province"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return u(e,B({},n,{from:"province"}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(S.Z,{disablePortal:!0,id:"municipality",value:m.municipality,disabled:0===m.ids.length||v,options:Object.values(m.entities),size:"small",renderInput:function(e){return(0,a.jsx)(C.Z,B({},e,{label:null===m.municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return void 0!==e.iscalendar},onChange:function(e,n){return u(e,B({},n,{from:"municipality",province:h.province}))}})]}),n.loading&&(0,a.jsx)(y.Z,{sx:W.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)(O.Z,{size:24,color:"secondary"})}),""===n.error&&!n.loading&&null!==n.sel_municipality&&""!==t.description&&(0,a.jsxs)(y.Z,{sx:W.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(j.default,{unoptimized:!0,src:t.icon,height:70,width:70,loader:z.imageLoader,alt:t.description}),(0,a.jsxs)("div",{className:"temperature",children:[t.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:["Date today: ",t.datenow]}),(0,a.jsxs)("div",{children:["Humidity: ",t.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",t.wind]}),(0,a.jsx)("div",{children:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})]})]}),""===n.error&&!n.loading&&null===n.sel_municipality&&(0,a.jsx)(y.Z,{sx:W.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==n.error&&(0,a.jsx)(y.Z,{sx:W.info,style:{minWidth:s?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:n.error})})]}),r.length>0&&(0,a.jsxs)(_.Z,{variant:"outlined",sx:W.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(A.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(D.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(w.default,{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(k.ZP,{container:!0,children:r.map((function(e,n){var t=new Date(e.date).toDateString()===(new Date).toDateString();return(0,a.jsx)(k.ZP,{item:!0,sx:{position:"relative",borderRadius:"8px",backgroundColor:"white",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:t?"rgba(0, 0, 0, 0.1)":"transparent",transition:"background-color 0.3s ease-in-out",pointerEvents:"none"},"&:hover::before":{backgroundColor:t?"rgba(0, 0, 0, 0.2)":"transparent"},border:t?".0px solid rgba(0, 255, 255, 0.7)":".1px solid rgba(0, 0, 0, 0.1)"},children:(0,a.jsx)(Z,{dailyweather:e})},"daily-".concat(n))}))}),(0,a.jsxs)(A.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(w.default,{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]}),s&&null!==i&&(0,a.jsx)(_.Z,{variant:"outlined",sx:W.cardInfo,children:(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:i[e.toLowerCase()]})]},n)}))})})})]})},H=t(18217),U=t(23549),Y=t(56867),G=t(1902);function J(e,n,t,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,i)}function Q(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){J(a,r,i,o,s,"next",e)}function s(e){J(a,r,i,o,s,"throw",e)}o(void 0)}))}}function V(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){V(e,n,t[n])}))}return e}var q={sel_municipality:null,sel_province:"",loading:!0,error:""},K={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var $=function(e){var n=e.record,t=e.isSmallScreen,r=e.onSelectMunicipality,o=(0,l.useState)(q),s=o[0],u=o[1],p=(0,l.useState)(K),d=p[0],f=p[1],h=(0,l.useState)([]),m=h[0],x=h[1],g=(0,l.useState)(!1),v=g[0],b=g[1],y=(0,c.I0)(),w=(0,c.v9)((function(e){return e.provinces})),j=w.ids,S=w.entities,_=w.municipalities,O=w.province,k=(0,c.v9)((function(e){return e.municipalities})).municipality,C=(0,c.v9)((function(e){return e.tendayweather})),A=C.ids,z=C.entities,E=C.status;(0,l.useEffect)((function(){y((0,H.QA)(null))}),[y]),(0,l.useEffect)((function(){j.length>0&&(y((0,U.Wn)(Object.values(S)[0])),y((0,Y.R)(Object.values(S)[0].label)).unwrap().then((function(){b(!0)})))}),[y,j,S]),(0,l.useEffect)((function(){if(A.length>0&&E===T.G.FULLFILLED&&v&&null!==O){var e=null;if(k)e=k;else{var n=Object.keys(_).find((function(e){return e===O.label}));n&&_[n].length>0&&(e=_[n][0])}y((0,H.X4)(_[O.label]||[])),y((0,H.QA)(e))}}),[y,A,z,E,v,k,_,O]),(0,l.useEffect)((function(){null!==k&&v&&u((function(e){return X({},e,{sel_province:O,sel_municipality:k})}))}),[y,k,O,z,E,v]),(0,l.useEffect)((function(){if(E===T.G.FULLFILLED&&null!==s.sel_municipality&&0===m.length)try{r(s.sel_municipality.label,s.sel_province.label);var e=Object.values(z).find((function(e){return e.municipality===s.sel_municipality.label}));if(e){var n=JSON.parse(e.data),t=(new Date).toDateString(),i=n.find((function(e){return e.day_format===t.substring(0,t.length-5)}))||n[0],a={icon:void 0!==G.Sx.rainfall[i.rainfall]?"images/icons/weather/".concat(G.Sx.rainfall[i.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(i.tmean),precipitation:null,humidity:"".concat(Z(i.humidity),"%"),datenow:t,wind:"".concat(Z(i.wspeed)," mps"),description:"".concat(D(i.rainfall),", ").concat(D(i.cover))},o=[];n.forEach((function(e){var n=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),t={day:e.day_format,wind_speed:Z(e.wspeed),temp_mean:Z(e.tmean),icon:void 0!==e.rainfall?"images/icons/weather/".concat(G.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""};o.push(t)})),f(a),x(o),u((function(e){return X({},e,{loading:!1,error:""})}))}}catch(l){u((function(e){return X({},e,{loading:!1,error:l.message})}))}}),[E,z,S,m,s.sel_municipality,s.sel_province.label,r]);var L=(0,l.useCallback)(function(){var e=Q(i().mark((function e(n,t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_[t.label],void 0!==(a=r.find((function(e){return e.label===n})))){e.next=4;break}return e.abrupt("return");case 4:x([]),u(X({},s,{sel_municipality:a,sel_province:t,loading:!0,error:""})),y((0,Y.R)(t.label));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[_,s,y]),M=function(){var e=Q(i().mark((function e(n,t){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.label,o=t.from,!a){e.next=22;break}e.t0=o,e.next="province"===e.t0?5:"municipality"===e.t0?10:19;break;case 5:return y((0,U.Wn)(t)),y((0,Y.R)(a)),y((0,H.X4)([])),r(null,a),e.abrupt("break",20);case 10:if(y((0,H.QA)({id:t.id,label:t.label,iscalendar:t.iscalendar})),void 0!==t.id){e.next=17;break}return u(X({},s,{sel_municipality:null,loading:!1})),f(K),x([]),r(null),e.abrupt("return");case 17:return L(t.label,null===t||void 0===t?void 0:t.province),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:e.next=31;break;case 22:e.t1=o,e.next="province"===e.t1?25:"municipality"===e.t1?28:30;break;case 25:return y((0,U.jg)()),y((0,H.X4)([])),e.abrupt("break",31);case 28:return y((0,H.QA)(null)),e.abrupt("break",31);case 30:return e.abrupt("break",31);case 31:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(e){return Math.round(100*(e+Number.EPSILON))/100},D=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,a.jsx)(F,{sel_options:s,weather:d,forecast:m,record:n,isSmallScreen:t,onSelectItemChange:M})},ee=t(99108),ne=t.n(ee);var te=function(e){var n=e.record,t=(0,l.useState)(null),r=t[0],i=t[1],o=(0,l.useState)(null),s=o[0],c=o[1];return(0,l.useEffect)((function(){i(null!==n?[n.lat,n.lon]:null),c(n)}),[n]),null===r?null:(0,a.jsx)(h.J,{position:r,eventHandlers:{mouseover:function(){i(null)},click:function(){i(null)}},children:(0,a.jsx)(b.u,{className:ne().tooltipCustom,permanent:!0,children:(0,a.jsx)("table",{style:{width:"100%"},children:(0,a.jsx)("tbody",{children:["Barangay","Municipality","Province","Association"].map((function(e,n){return["lat","lon"].includes(e)?(0,a.jsx)("tr",{},n):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[e,":"]})}),(0,a.jsx)("td",{children:s[e.toLowerCase()]})]},n)}))})})})})},re=[{url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",name:"Street Map",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'},{url:"https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:'&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://www.stamen.com/" target="_blank">Stamen Design</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.jpg",name:"Satellite Map",attribution:'&copy; CNES, Distribution Airbus DS, \xa9 Airbus DS, \xa9 PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:"Tiles &copy; Esri &mdash; Source: Esri"},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}],ie={map:{width:"100%",height:"calc(100vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}}},ae=t(47426),oe=t(59584),se=t(50657),le=t(37645),ce=t(6514),ue=t(58951),pe=t(93946),de=t(50594);var fe=function(e){var n=e.announcement,t=(0,l.useRef)(null),r=(0,l.useRef)(null),i=(0,l.useState)(!1),o=i[0],s=i[1],c=(0,l.useState)(!1),u=c[0],p=c[1];return(0,l.useEffect)((function(){var e=function(){if(t.current&&r.current){var e=t.current.scrollWidth,n=r.current.offsetWidth;p(e>n||window.innerWidth<600)}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(y.Z,{ref:r,sx:{width:"100%",background:"#fffbe6",borderBottom:"2px solid #ff9800",display:"flex",alignItems:"center",overflow:"hidden",minHeight:35,position:"relative",zIndex:100,justifyContent:"start",cursor:"pointer"},onClick:function(){return s(!0)},children:[(0,a.jsx)(oe.Z,{color:"warning",sx:{ml:2,mr:1}}),(0,a.jsx)(A.Z,{ref:t,variant:"caption",component:"span",sx:{color:"#444",fontWeight:500,letterSpacing:.5,fontSize:{xs:14,sm:16},whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:{xs:"70vw",sm:"85vw"},display:"inline-block",verticalAlign:"middle",userSelect:"none"},children:n}),u&&(0,a.jsx)(y.Z,{component:"span",sx:{color:"#1976d2",cursor:"pointer",ml:1,fontWeight:600,textDecoration:"underline",fontSize:{xs:14,sm:16},background:"#fffbe6",px:.5,position:"relative",zIndex:101,flexShrink:0,verticalAlign:"middle",userSelect:"none"},onClick:function(e){return e.stopPropagation()},children:"See more..."})]}),(0,a.jsxs)(se.Z,{open:o,onClose:function(){return s(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,a.jsxs)(le.Z,{sx:{display:"flex",alignItems:"center",pr:4},children:[(0,a.jsx)(oe.Z,{color:"warning",sx:{mr:1}}),"Announcement",(0,a.jsx)(pe.Z,{"aria-label":"close",onClick:function(){return s(!1)},sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},size:"large",children:(0,a.jsx)(de.Z,{})})]}),(0,a.jsx)(ce.Z,{children:(0,a.jsx)(ue.Z,{sx:{color:"#444",fontSize:16},children:n})})]})]})};function he(e,n,t,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,i)}var me=ae.XH.split(","),xe={lat:parseFloat(me[0]),lng:parseFloat(me[1])},ge=["Barangay","Municipality","Province","Association"];var ve=function(e){var n=e.data,t=void 0===n?{villages:[],provincesMunicipalities:[]}:n,r=(0,l.useState)({}),o=r[0],w=r[1],j=(0,l.useState)(""),S=j[0],_=j[1],O=(0,l.useState)(null),k=O[0],C=O[1],A=(0,l.useRef)(null),z=(0,f.Z)((function(e){return e.breakpoints.down("md")})),E=(0,c.v9)((function(e){return e.provinces.ids})),L=(0,l.useRef)(null),M=(0,c.I0)();(0,l.useEffect)((function(){null===L.current&&0===E.length&&(L.current=!0,M((0,u.Q)()))}),[M,E.length]);var Z=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,s().get("https://firebasestorage.googleapis.com/v0/b/car-cis-dev.appspot.com/o/geojsoncar%2Fcar.geojson?alt=media&token=5534c3f8-329a-4f41-b527-184d72a39f3d");case 4:n=e.sent,w(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){he(a,r,i,o,s,"next",e)}function s(e){he(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){Z()}),[]);var D=o.features&&Array.isArray(o.features)?o.features.map((function(e,n){var t=d().geoJSON(e).getBounds().getCenter();return(0,a.jsx)(h.J,{position:[t.lat,t.lng],icon:new p.DivIcon({className:"label-icon",html:'<div style="font-size: 12px; color: black; font-style: italic;">\n                     '.concat(e.properties.adm2_en," \n                   </div>"),permanent:!0,interactive:!1})},n)})):null;return(0,a.jsxs)(y.Z,{sx:ie.map,style:{minHeight:z?"80vh":"86vh"},children:[(0,a.jsx)(fe,{announcement:"Advisory: Our regular 10-Day Rainfall updates is temporary unavailable due to system updating of PAGASA to better serve you. We will resume posting as soon as it is available. Thank you for your understanding."}),(0,a.jsxs)(m.h,{style:{height:"98%"},center:xe,zoom:8,maxZoom:14,minZoom:8,tileSize:512,placeholder:(0,a.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){A.current=e},children:[D,(0,a.jsx)(x.et,{position:"topleft",children:re.map((function(e,n){return(0,a.jsx)(x.et.BaseLayer,{name:e.name,checked:0===n,children:(0,a.jsx)(g.I,{zIndex:0,attribution:e.attribution,url:e.url})},"map-".concat(n))}))}),(0,a.jsx)(v.Q,{municipality:S,data:o.features,zIndex:1,onEachFeature:function(e,n){n.setStyle({fillColor:e.properties.adm2_en===S?"#ff6a00":"Abra"===e.properties.adm2_en?"#C801B9":"Apayao"===e.properties.adm2_en?"#0893e3":"Benguet"===e.properties.adm2_en?"#038501":"Ifugao"===e.properties.adm2_en?"#C88001":"Kalinga"===e.properties.adm2_en?"#FC0909":"Mountain Province"===e.properties.adm2_en?"#A9B10B":"#ffeb4b",color:"black",weight:3,fillOpacity:"0.3"})}},Math.random().toString(36).substring(2,8)),t.villages.map((function(e,n){return(0,a.jsx)(h.J,{position:[e.lat,e.lon],id:"tooltip-".concat(n),eventHandlers:{mouseover:function(){null!==k&&C(null)},click:function(){null!==k&&C(null)}},children:(0,a.jsx)(b.u,{className:ne().tooltipCustom,direction:"left",children:(0,a.jsx)("table",{style:{width:"100%"},id:"tip-".concat(n),children:(0,a.jsx)("tbody",{children:ge.map((function(n,t){return["lat","lon"].includes(n)?(0,a.jsx)("tr",{},t):(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("b",{children:[n,":"]})}),(0,a.jsx)("td",{children:e[n.toLowerCase()]})]},t)}))})})})},n)})),!z&&(0,a.jsx)(te,{record:k})]}),(0,a.jsx)($,{record:k,isSmallScreen:z,onSelectMunicipality:function(e,n){if(n&&"Select a province"!==n){var r=o.features.find((function(e){return e.properties.adm2_en===n}));if(r){var i=d().geoJSON(r).getBounds(),a=A.current;a&&a.fitBounds(i,{padding:[20,20]})}}if(null===e&&null===n)_(""),C(null);else{var s=t.villages.find((function(t){return t.municipality===e&&t.province===n}));s?(_(s.municipality),C(s),function(e,n){var t=A.current;t&&t.flyTo([e,n+4],10,{duration:2.5})}(s.lat,s.lon)):(_(""),C(null))}}})]})}},1902:function(e,n,t){"use strict";t.d(n,{J4:function(){return r},Y1:function(){return i},Sx:function(){return a}});var r=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],i=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],a={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},99108:function(e){e.exports={tooltipCustom:"Map_tooltipCustom___IYju"}}}]);