(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{47381:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var o=r(t(64938)),i=t(85893),a=(0,o.default)([(0,i.jsx)("path",{d:"M5 5v14h14V5H5zm9 12H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64S3 4.72 3 5v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},"1")],"AssignmentTwoTone");n.Z=a},38615:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var o=r(t(64938)),i=t(85893),a=(0,o.default)((0,i.jsx)("path",{d:"M14.5 2.5c0 1.5-1.5 6-1.5 6h-2S9.5 4 9.5 2.5C9.5 1.12 10.62 0 12 0s2.5 1.12 2.5 2.5zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4.08-4.89c.18-.75.33-1.47.39-2.06C19.75 4.69 22 8.08 22 12c0 5.52-4.48 10-10 10S2 17.52 2 12c0-3.92 2.25-7.31 5.53-8.95.07.59.21 1.32.39 2.06C5.58 6.51 4 9.07 4 12c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.93-1.58-5.49-3.92-6.89zM18 12c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2 .98-3.77 2.48-4.86.23.81.65 2.07.65 2.07C8.43 9.93 8 10.92 8 12c0 2.21 1.79 4 4 4s4-1.79 4-4c0-1.08-.43-2.07-1.13-2.79 0 0 .41-1.22.65-2.07C17.02 8.23 18 10 18 12z"}),"CrisisAlert");n.Z=a},12795:function(e,n,t){"use strict";var r=t(64836);n.Z=void 0;var o=r(t(64938)),i=t(85893),a=(0,o.default)([(0,i.jsx)("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"},"1")],"DescriptionTwoTone");n.Z=a},53622:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulletins/crops",function(){return t(83991)}])},19227:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(85893),o=t(67294),i=t(45697),a=t.n(i),l=t(11057),c=t(19536),s=t(98456),u=t(50657),d=t(31425),p=t(37645),f=t(6514),h=t(93946),x={button:{color:"#FFFFFF",textTransform:"capitalize",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",height:{xs:"40px",sm:"48px"},"& .text":{display:{xs:"block",sm:"none"}},"& .shortText":{display:{xs:"inline-block",sm:"none"},fontSize:"24px"}},icon:{display:{xs:"block",sm:"none"}},dialogContent:{"& .error":{fontSize:"12px",color:"red"}},dialogActions:{"& button":{minWidth:"100px"}},closeButton:{position:"absolute",right:"8px",top:"8px",color:function(e){return e.palette.grey[500]}}};function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var n=y(o.useState({open:null}),2),t=n[0],i=n[1],a=e.loading,v=void 0!==a&&a,b=e.isOpen,g=void 0!==b&&b,j=e.showButtons,C=void 0===j||j,w=e.maxWidth,O=void 0===w?"sm":w,S=e.IconSVG,Z=void 0===S?null:S,T=e.modalButtonStyles,H=void 0===T?{}:T,B=e.modalExtraHandlerCB,z=void 0===B?null:B,P=e.modalCancelHandlerCB,k=void 0===P?null:P,E=e.modalConfirmHandlerCB,D=void 0===E?null:E,_=e.modalOpenHandlerCB,A=void 0===_?null:_,R=e.isDisabled,I=void 0!==R&&R,M=e.openButtonText,N=void 0===M?"Click":M,W=e.title,F=void 0===W?"Window Title":W,L=e.extraBtnText,V=void 0===L?"":L,G=e.cancelBtnText,q=void 0===G?"Cancel":G,U=e.confirmBtnText,X=void 0===U?"Ok":U,Y=e.contentText,$=void 0===Y?"":Y,J=e.error,K=void 0===J?"":J,Q=e.colorTheme,ee=void 0===Q?"primary":Q;(0,o.useEffect)((function(){i((function(e){return m({},e,{open:g})}))}),[g]);var ne=function(){i(m({},t,{open:!1})),k&&k()};return(0,r.jsxs)("div",{children:[N&&(0,r.jsxs)(l.Z,{disabled:I,disableElevation:!0,variant:"contained",color:ee,onClick:function(){i(m({},t,{open:!0})),A&&A()},sx:m({},x.button,H),children:[Z&&(0,r.jsx)(Z,{sx:x.icon}),N]}),(0,r.jsxs)(u.Z,{maxWidth:O,fullWidth:!0,open:t.open||!1,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsxs)(p.Z,{children:[(0,r.jsx)("span",{children:F}),(0,r.jsx)(h.Z,{"aria-label":"close",sx:x.closeButton,onClick:ne,disabled:v,children:(0,r.jsx)(c.Z,{})})]}),(0,r.jsxs)(f.Z,{sx:x.dialogContent,children:[""!==$&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:$}),(0,r.jsx)("div",{className:"error",children:K})]}),e.children]}),C&&(0,r.jsxs)(d.Z,{sx:x.dialogActions,children:[""!==V&&(0,r.jsx)(l.Z,{onClick:z||ne,disabled:v,children:V}),(0,r.jsx)(l.Z,{onClick:k||ne,disabled:v,children:q}),(0,r.jsxs)(l.Z,{variant:"contained",disabled:v,onClick:D||ne,children:[(0,r.jsx)("span",{style:{display:v?"none":"block"},children:X}),(0,r.jsx)(s.Z,{size:24,color:"secondary",sx:{display:v?"block":"none"}})]})]})]})]})}g.propTypes={loading:a().bool,isOpen:a().bool,showButtons:a().bool,maxWidth:a().string,IconSVG:a().elementType,modalButtonStyles:a().object,modalCancelHandlerCB:a().func,modalConfirmHandlerCB:a().func,modalOpenHandlerCB:a().func,modalExtraHandlerCB:a().func,openButtonText:a().string,cancelBtnText:a().string,confirmBtnText:a().string,extraBtnText:a().string,title:a().string,contentText:a().string,children:a().node,error:a().string,isDisabled:a().bool,colorTheme:a().string};var j=g},89646:function(e,n,t){"use strict";var r=t(85893),o=t(55113);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=(0,t(11496).ZP)((function(e){return(0,r.jsx)(o.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({},e))}))((function(e){var n=e.theme;return{padding:n.spacing(3),borderRadius:n.spacing(1),backgroundColor:"#fff",boxShadow:"rgb(0 0 0 / 2%) 0px 3.5px 5.5px",border:"1px solid ".concat(n.palette.bacap.border)}}));n.Z=a},55688:function(e,n,t){"use strict";var r=t(85893),o=t(67294),i=t(45697),a=t.n(i),l=t(14866),c=t(46901);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=o.forwardRef((function(e,n){return(0,r.jsx)(c.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({elevation:6,ref:n,variant:"filled"},e))}));function d(e){var n=e.openSnackbar,t=e.message,i=e.severity,a=e.closeHandlerCB,c=void 0===a?function(){}:a,s=(0,o.useState)(n),d=s[0],p=s[1];(0,o.useEffect)((function(){p(n)}),[n]);var f=function(){p(!1),c()};return(0,r.jsx)(l.Z,{open:d,autoHideDuration:3e3,onClose:f,children:(0,r.jsx)(u,{onClose:f,severity:i,sx:{width:"100%"},children:t})})}d.propTypes={openSnackbar:a().bool,message:a().string,severity:a().string},n.Z=d},83991:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(85893),o=t(67294),i=t(9473),a=t(95243),l=t(11163),c=t(87357),s=t(41664),u=t(86886),d=t(15861),p=t(11496),f=t(41796);function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var x=(0,p.ZP)((function(e){return(0,r.jsx)(u.ZP,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}({},e))}))((function(e){var n=e.theme;return{textAlign:"center",cursor:"pointer",borderRadius:n.spacing(1),padding:n.spacing(2),"& a":{color:"rgba(0, 0, 0, 0.87)",textDecoration:"none"},"& a:visited":{color:"rgba(0, 0, 0, 0.87)"},"& h6":{lineHeight:n.spacing(3)},"& svg":{color:n.palette.secondary.main},"&:hover, &:focus":{backgroundColor:(0,f.Fq)(n.palette.secondary.light,.3)}}})),v=x,b=t(19227),m=t(47381),y=t(12795),g=t(38615);var j=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(b.Z,{maxWidth:"sm",openButtonText:"Create Bulletin",title:"Select a Crop Bulletin Type",showButtons:!1,colorTheme:"secondary",children:(0,r.jsxs)(u.ZP,{container:!0,children:[(0,r.jsx)(v,{item:!0,xs:12,sm:4,children:(0,r.jsx)(s.default,{href:"/admin/bulletins/crops/seasonal/create",passHref:!0,children:(0,r.jsxs)("a",{children:[(0,r.jsx)(m.Z,{sx:{fontSize:"90px"}}),(0,r.jsx)(d.Z,{variant:"subtitle1",children:"Regional Seasonal Climate"}),(0,r.jsx)(d.Z,{variant:"subtitle1",children:"Outlook and Advisory"})]})})}),(0,r.jsx)(v,{item:!0,xs:12,sm:4,children:(0,r.jsx)(s.default,{href:"/admin/bulletins/crops/tenday/create",passHref:!0,children:(0,r.jsxs)("a",{children:[(0,r.jsx)(y.Z,{sx:{fontSize:"90px"}}),(0,r.jsx)(d.Z,{variant:"subtitle1",children:"10-Day Farm Weather Outlook"}),(0,r.jsx)(d.Z,{variant:"subtitle1",children:"and Advisory"})]})})}),(0,r.jsx)(v,{item:!0,xs:12,sm:4,children:(0,r.jsx)(s.default,{href:"/admin/bulletins/crops/special/create",passHref:!0,children:(0,r.jsxs)("a",{children:[(0,r.jsx)(g.Z,{sx:{fontSize:"90px"}}),(0,r.jsx)(d.Z,{variant:"subtitle1",children:"Special Weather Advisory"})]})})})]})})})},C=t(94054),w=t(47312),O=t(18972),S=t(89646),Z=t(18360),T=t(55688),H=t(27392),B=t(42176),z=t(6132),P=t(50853),k=t(24343),E=t(901);function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){D(e,n,t[n])}))}return e}function A(e){return(0,r.jsx)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,r.jsxs)(B.D,_({},e,{children:[(0,r.jsx)(z.S,{}),(0,r.jsx)(P.M,{})]}))})}var R=function(e){var n=e.rows,t=e.columns,a=e.message,s=e.resetMessage,u=e.handleTypeChange,p=(0,o.useState)(H.Ry.SEASONAL),f=p[0],h=p[1],x=(0,i.v9)((function(e){return e.reports.status})),v=(0,i.v9)((function(e){return e.dashboard.reportType})),b=(0,l.useRouter)();return(0,o.useEffect)((function(){h(v)}),[v]),(0,r.jsxs)("div",{children:[(0,r.jsx)(T.Z,{openSnackbar:""!==a,message:a,severity:"info",closeHandlerCB:s}),(0,r.jsx)(d.Z,{variant:"h5",children:"Crop Recommendations"}),(0,r.jsxs)("p",{children:["Create and preview ",(0,r.jsx)("strong",{children:"10-Day"})," and ",(0,r.jsx)("strong",{children:"Seasonal"})," crop bulletins. Finalized bulletins will be automatically uploaded to the site for public download."]}),(0,r.jsxs)(S.Z,{sx:{display:"flex",flexDirection:{sm:"column",md:"row"},justifyContent:"space-between",alignItems:"center",padding:"8px 16px 8px 24px"},children:[(0,r.jsx)(j,{}),(0,r.jsxs)(C.Z,{sx:{m:1,width:{xs:"100%",sm:"100%",md:300}},size:"small",children:[(0,r.jsx)(w.Z,{id:"report-type",children:"Bulletin Type"}),(0,r.jsxs)(Z.Z,{labelId:"report-type",id:"report-type",value:f,label:"Bulletin Type",onChange:u,children:[(0,r.jsx)(O.Z,{value:H.Ry.SEASONAL,children:"Seasonal Crop Recommendations"}),(0,r.jsx)(O.Z,{value:H.Ry.TEN_DAY,children:"10-Day Crop Recommendations"}),(0,r.jsx)(O.Z,{value:H.Ry.SPECIAL_WEATHER,children:"Special Weather Recommendations"})]})]})]}),(0,r.jsx)(c.Z,{style:{height:678,width:"100%",textAlign:"left"},children:(0,r.jsx)(S.Z,{sx:{height:"inherit",marginTop:"16px"},children:(0,r.jsx)(k._,{rows:n,columns:t,disableDensitySelector:!0,pageSize:10,rowsPerPageOptions:[10],components:{Toolbar:A},loading:x===E.G.PENDING,rowHeight:48,initialState:{columns:{columnVisibilityModel:{rowId:!1}}},onRowClick:function(e){b.push({pathname:"/admin/bulletins/crops/report/view",query:{docId:e.row.docId}})}})})})]})},I=t(66383),M=t(61690),N=t(53063),W=t(47426);var F=(0,a.Z)((function(e){var n=(0,o.useState)([]),t=n[0],a=n[1],l=(0,o.useState)([]),c=l[0],s=l[1],u=(0,o.useState)(""),d=u[0],p=u[1],f=(0,i.v9)((function(e){return e.dashboard.reportType})),h=(0,o.useRef)(!1),x=(0,o.useRef)(!1),v=(0,i.I0)(),b=(0,i.v9)((function(e){return e.reports})),m=b.ids,y=b.entities,g=b.status;return(0,o.useEffect)((function(){return h.current=!0,function(){h.current=!1}}),[]),(0,o.useEffect)((function(){null===e.user||e.loading||0!==m.length||x.current||(x.current=!0,v((0,M.RC)({uid:e.user.uid,type:f})))}),[e.user,e.loading,m,f,v]),(0,o.useEffect)((function(){if([E.G.FULLFILLED,E.G.IDLE].includes(g)&&m.length>0){var e={crop:"Crop",province:"Province",municipality:"Municipality",type:"Bulletin Type",updated_by:"Updated by",date_created:"Date Created"},n={province:180,municipality:180,type:110,date_created:200},t=[];["crop","province","municipality","type","updated_by","date_created"].forEach((function(r){t.push({field:r,headerName:e[r],minWidth:n[r],flex:void 0===n[r]?1:0,editable:!1,sortable:!1,disableColumnMenu:!0})}));var r=m.map((function(e,n){return{id:n,docId:y[e].id,crop:y[e].crop,province:y[e].province,municipality:y[e].municipality,type:y[e].type,updated_by:y[e].updated_by,date_created:y[e].date_created}}));h.current&&(a(r),s(t))}}),[g,m,y]),(0,r.jsx)(I.Z,{loading:e.loading,user:e.user,onBtnLogoutClick:e.onBtnLogoutClick,accLevel:W.DW.ADMIN,children:(0,r.jsx)(R,{rows:t,columns:c,loadingReports:g===E.G.PENDING,message:d,resetMessage:function(){return p("")},handleTypeChange:function(n){var t=n.target.value;v((0,M.RC)({uid:e.user.uid,type:t})).unwrap().then((function(e){e.length>0&&v((0,N.uq)(t))})).catch((function(){p("No ".concat(t," reports are available."))}))}})})}))}},function(e){e.O(0,[5124,7739,972,1903,3028,3203,6038,6295,1433,9821,4343,5441,1050,9774,2888,179],(function(){return n=53622,e(e.s=n);var n}));var n=e.O();_N_E=n}]);