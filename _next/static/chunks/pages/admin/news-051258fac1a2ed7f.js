(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8533,1057],{50594:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var a=r(n(64938)),i=n(85893),o=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},11057:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(63366),a=n(87462),i=n(67294),o=n(86010),s=n(47925),c=n(27192),l=n(41796),u=n(11496),d=n(33616),p=n(47739),x=n(98216),f=n(28979);function h(e){return(0,f.Z)("MuiButton",e)}var v=(0,n(76087).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),m=n(98363),b=n(85893);const g=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],w=e=>(0,a.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),y=(0,u.ZP)(p.Z,{shouldForwardProp:e=>(0,u.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,x.Z)(n.color)}`],t[`size${(0,x.Z)(n.size)}`],t[`${n.variant}Size${(0,x.Z)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>(0,a.Z)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,a.Z)({textDecoration:"none",backgroundColor:(0,l.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:(0,l.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${e.palette[t.color].main}`,backgroundColor:(0,l.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.palette[t.color].dark,"@media (hover: none)":{backgroundColor:e.palette[t.color].main}}),"&:active":(0,a.Z)({},"contained"===t.variant&&{boxShadow:e.shadows[8]}),[`&.${v.focusVisible}`]:(0,a.Z)({},"contained"===t.variant&&{boxShadow:e.shadows[6]}),[`&.${v.disabled}`]:(0,a.Z)({color:e.palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${e.palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${e.palette.action.disabled}`},"contained"===t.variant&&{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].main,border:`1px solid ${(0,l.Fq)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].contrastText,backgroundColor:e.palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${v.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${v.disabled}`]:{boxShadow:"none"}})),S=(0,u.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,x.Z)(n.size)}`]]}})((({ownerState:e})=>(0,a.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},w(e)))),Z=(0,u.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,x.Z)(n.size)}`]]}})((({ownerState:e})=>(0,a.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},w(e))));var k=i.forwardRef((function(e,t){const n=i.useContext(m.Z),l=(0,s.Z)(n,e),u=(0,d.Z)({props:l,name:"MuiButton"}),{children:p,color:f="primary",component:v="button",className:w,disabled:k=!1,disableElevation:j=!1,disableFocusRipple:z=!1,endIcon:C,focusVisibleClassName:I,fullWidth:O=!1,size:P="medium",startIcon:R,type:W,variant:$="text"}=u,E=(0,r.Z)(u,g),N=(0,a.Z)({},u,{color:f,component:v,disabled:k,disableElevation:j,disableFocusRipple:z,fullWidth:O,size:P,type:W,variant:$}),B=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,l={root:["root",o,`${o}${(0,x.Z)(t)}`,`size${(0,x.Z)(i)}`,`${o}Size${(0,x.Z)(i)}`,"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,x.Z)(i)}`],endIcon:["endIcon",`iconSize${(0,x.Z)(i)}`]},u=(0,c.Z)(l,h,s);return(0,a.Z)({},s,u)})(N),D=R&&(0,b.jsx)(S,{className:B.startIcon,ownerState:N,children:R}),F=C&&(0,b.jsx)(Z,{className:B.endIcon,ownerState:N,children:C});return(0,b.jsxs)(y,(0,a.Z)({ownerState:N,className:(0,o.Z)(w,n.className),component:v,disabled:k,focusRipple:!z,focusVisibleClassName:(0,o.Z)(B.focusVisible,I),ref:t,type:W},E,{classes:B,children:[D,p,F]}))}))},98363:function(e,t,n){"use strict";const r=n(67294).createContext({});t.Z=r},45577:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/news",function(){return n(73854)}])},73854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(85893),a=n(95243),i=n(66383),o=n(47426),s=n(34051),c=n.n(s),l=n(67294),u=n(2734),d=n(98396),p=n(87357),x=n(15861),f=n(61903),h=n(11057),v=n(50657),m=n(37645),b=n(93946),g=n(6514),w=n(31425),y=n(98993),S=n(50594),Z=n(89328),k=n(36100);function j(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){j(i,r,a,o,s,"next",e)}function s(e){j(i,r,a,o,s,"throw",e)}o(void 0)}))}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function O(){var e=(0,l.useState)([]),t=e[0],n=e[1],a=(0,l.useState)(""),i=a[0],o=a[1],s=(0,l.useState)(""),j=s[0],O=s[1],P=(0,l.useState)(null),R=P[0],W=P[1],$=(0,l.useState)(!1),E=$[0],N=$[1],B=(0,l.useState)(null),D=B[0],F=B[1],L=(0,l.useState)(null),T=L[0],_=L[1],M=(0,l.useState)({}),V=M[0],U=M[1],J=(0,l.useState)(!1),q=J[0],A=J[1],Q=(0,l.useState)(""),H=Q[0],X=Q[1],K=(0,l.useState)(""),G=K[0],Y=K[1],ee=(0,l.useState)(null),te=ee[0],ne=ee[1],re=(0,l.useState)(""),ae=re[0],ie=re[1],oe=(0,u.Z)(),se=(0,d.Z)(oe.breakpoints.down("sm"));(0,l.useEffect)((function(){le()}),[]);var ce,le=function(){var e=z(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.lh)();case 2:return t=e.sent,n(t||[]),e.next=6,he(t||[]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e,t){return(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.newsId)||String(t)},de=function(e){if(!e)return[];var t,n,r,a=null!==(r=null!==(n=null!==(t=e.imageUrl)&&void 0!==t?t:e.images)&&void 0!==n?n:e.imagesList)&&void 0!==r?r:"";if(!a)return[];if(Array.isArray(a))return a.filter(Boolean);if("string"===typeof a){try{var i=JSON.parse(a);if(Array.isArray(i))return i.filter(Boolean)}catch(o){}return a.split(",").map((function(e){return e.trim()})).filter(Boolean)}return[]},pe=/(https?:\/\/[^\s]+)/g,xe=function(e){if(!e)return null;for(var t,n=[],a=0;null!==(t=pe.exec(e));){var i=t.index,o=t[0];i>a&&n.push({type:"text",text:e.slice(a,i)}),n.push({type:"url",text:o}),a=i+o.length}return a<e.length&&n.push({type:"text",text:e.slice(a)}),n.map((function(e,t){return"url"===e.type?(0,r.jsx)("a",{href:e.text,target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2",textDecoration:"underline"},children:e.text},t):(0,r.jsx)("span",{children:e.text},t)}))},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if(!e)return"";var n=e.replace(/\s+/g," ").trim();return n.length>t?n.slice(0,t).trim()+"...":n},he=function(){var e=z(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],n={},e.next=4,Promise.all((t||[]).map(function(){var e=z(c().mark((function e(t,r){var a,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ue(t,r),e.prev=1,i=(0,k.JU)(Z.db,"news",a),e.next=5,(0,k.QT)(i);case 5:if(!(o=e.sent).exists()){e.next=17;break}if("number"===typeof(s=o.data()).views){e.next=14;break}return e.next=11,(0,k.pl)(i,{views:0},{merge:!0});case 11:n[a]=0,e.next=15;break;case 14:n[a]=s.views;case 15:e.next=20;break;case 17:return e.next=19,(0,k.pl)(i,{views:0},{merge:!0});case 19:n[a]=0;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),n[a]=0;case 25:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t,n){return e.apply(this,arguments)}}()));case 4:U(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=z(c().mark((function e(t,n){var r,a,i,o,s,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t,n),a=(0,k.JU)(Z.db,"news",r),e.prev=2,e.next=5,(0,k.i3)(Z.db,function(){var e=z(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(a);case 2:(n=e.sent).exists()?"number"!==typeof n.data().views?t.update(a,{views:1}):t.update(a,{views:(0,k.nP)(1)}):t.set(a,{views:1},{merge:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.next=7,(0,k.QT)(a);case 7:return i=e.sent,o=i.exists()&&"number"===typeof i.data().views?i.data().views:0,U((function(e){return I({},e,C({},r,o))})),e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(2),console.error("incrementNewsView failed",e.t0),e.prev=16,e.next=19,(0,k.QT)(a);case 19:return s=e.sent,l=s.exists()&&"number"===typeof s.data().views?s.data().views+1:1,e.next=23,(0,k.pl)(a,{views:l},{merge:!0});case 23:return U((function(e){return I({},e,C({},r,l))})),e.abrupt("return",l);case 27:return e.prev=27,e.t1=e.catch(16),console.error("fallback failed",e.t1),e.abrupt("return",null!==(u=V[r])&&void 0!==u?u:0);case 32:case"end":return e.stop()}}),e,null,[[2,13],[16,27]])})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=z(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("increment on view failed",e.t0);case 8:F(t),_(n),A(!1),X(t.title||""),Y(t.content||""),ie(t.imageUrl||""),ne(null),N(!0);case 16:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){N(!1),F(null),_(null),A(!1),ne(null)},ge=function(){var e=z(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,y.jB)(D.id,{title:H,content:G},te,ae);case 5:return e.next=7,le();case 7:return e.next=9,(0,y.lh)();case 9:if(e.t0=e.sent.find((function(e){return e.id===D.id})),e.t0){e.next=12;break}e.t0=D;case 12:t=e.t0,F(t),A(!1),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),console.error("saveDialogEdit failed",e.t1);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=z(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:if(window.confirm("Delete this news?")){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,y.kN)(D.id,D.imageUrl);case 7:return e.next=9,le();case 9:be(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("deleteFromDialog failed",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=z(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&j){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,y.yQ)({title:i,content:j},R);case 4:return o(""),O(""),W(null),e.next=9,le();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(p.Z,{sx:{maxWidth:900,mx:"auto",mt:4,px:{xs:2,sm:3}},children:[(0,r.jsx)(x.Z,{variant:"h4",gutterBottom:!0,children:"News Management"}),(0,r.jsxs)(p.Z,{sx:{mb:3},children:[(0,r.jsx)(f.Z,{label:"Title",value:i,onChange:function(e){return o(e.target.value)},fullWidth:!0,sx:{mb:2}}),(0,r.jsx)(f.Z,{label:"Content",value:j,onChange:function(e){return O(e.target.value)},fullWidth:!0,multiline:!0,minRows:4,maxRows:16,sx:{mb:2},InputProps:{style:{whiteSpace:"pre-line",overflow:"auto"}}}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return W(e.target.files[0])},style:{marginBottom:16}}),(0,r.jsx)(h.Z,{variant:"contained",onClick:ye,children:"Create News"})]}),t.map((function(e,t){var n,a=ue(e,t),i=de(e),o=i.length>0?i[0]:null;return(0,r.jsxs)(p.Z,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"flex-start",mb:3,p:2,borderRadius:2,bgcolor:"background.paper",boxShadow:1,cursor:"pointer"},onClick:function(){return me(e,t)},children:[o&&(0,r.jsx)(p.Z,{component:"img",src:o,alt:"thumb",sx:{width:{xs:"100%",sm:360},height:{xs:180,sm:220},objectFit:"cover",borderRadius:1,border:"1px solid #eee",flexShrink:0}}),(0,r.jsxs)(p.Z,{sx:{flex:1,minWidth:0},children:[(0,r.jsx)(x.Z,{variant:"h6",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:{xs:"normal",sm:"nowrap"}},children:e.title}),(0,r.jsxs)(p.Z,{sx:{display:"flex",gap:2,alignItems:"center",mb:1,flexWrap:"wrap"},children:[(0,r.jsx)(x.Z,{variant:"caption",color:"text.secondary",children:e.created?new Date(e.created).toLocaleString():""}),(0,r.jsxs)(x.Z,{variant:"caption",color:"text.secondary",sx:{ml:"auto"},children:["Views: ",null!==(n=V[a])&&void 0!==n?n:0]})]}),(0,r.jsx)(x.Z,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:{xs:5,sm:6},WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",mb:1},children:xe(fe(e.content))}),(0,r.jsx)(p.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:(0,r.jsx)(h.Z,{size:"small",onClick:function(n){n.stopPropagation(),me(e,t)},children:"See more"})})]})]},a)})),(0,r.jsxs)(v.Z,{open:E,onClose:be,fullWidth:!0,maxWidth:"md",fullScreen:se,children:[(0,r.jsxs)(m.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(p.Z,{children:q?(0,r.jsx)(f.Z,{value:H,onChange:function(e){return X(e.target.value)},fullWidth:!0}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{variant:"h6",children:null===D||void 0===D?void 0:D.title}),(0,r.jsx)(x.Z,{variant:"caption",color:"text.secondary",children:(null===D||void 0===D?void 0:D.created)?new Date(D.created).toLocaleString():""})]})}),(0,r.jsxs)(p.Z,{children:[!q&&(0,r.jsx)(h.Z,{size:"small",onClick:function(){D&&(A(!0),X(D.title||""),Y(D.content||""),ie(D.imageUrl||""),ne(null))},sx:{mr:1},children:"Edit"}),q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{size:"small",onClick:ge,variant:"contained",sx:{mr:1},children:"Save"}),(0,r.jsx)(h.Z,{size:"small",onClick:function(){return A(!1)},sx:{mr:1},children:"Cancel"})]}),(0,r.jsx)(b.Z,{onClick:be,children:(0,r.jsx)(S.Z,{})})]})]}),(0,r.jsxs)(g.Z,{dividers:!0,children:[D&&de(D).length>0&&(0,r.jsx)(p.Z,{sx:{mb:2},children:de(D).map((function(e,t){return(0,r.jsx)(p.Z,{component:"img",src:e,alt:"news-".concat(t),sx:{width:"100%",borderRadius:8,mb:1}},t)}))}),q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{value:G,onChange:function(e){return Y(e.target.value)},fullWidth:!0,multiline:!0,minRows:6,sx:{mb:2}}),(0,r.jsxs)(p.Z,{sx:{mb:2},children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return ne(e.target.files[0])}}),ae&&!te&&(0,r.jsx)(p.Z,{sx:{mt:1},children:(0,r.jsx)("img",{src:ae,alt:"preview",style:{maxWidth:"100%"}})})]})]}):(0,r.jsx)(x.Z,{sx:{whiteSpace:"pre-line"},children:xe(null===D||void 0===D?void 0:D.content)}),(0,r.jsxs)(x.Z,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:2},children:["Views: ",D&&null!==(ce=V[ue(D,T)])&&void 0!==ce?ce:0]})]}),(0,r.jsxs)(w.Z,{children:[!q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{color:"error",onClick:we,children:"Delete"}),(0,r.jsx)(h.Z,{onClick:be,children:"Close"})]}),q&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h.Z,{onClick:function(){A(!1),be()},children:"Close"})})]})]})]})}var P=(0,a.Z)((function(e){var t=e.loading,n=e.user,a=e.onBtnLogoutClick;return(0,r.jsx)(i.Z,{loading:t,user:n,onBtnLogoutClick:a,accLevel:o.DW.ADMIN,children:(0,r.jsx)(O,{})})}))},98993:function(e,t,n){"use strict";n.d(t,{yQ:function(){return f},lh:function(){return v},jB:function(){return b},kN:function(){return w}});var r=n(34051),a=n.n(r),i=n(89328),o=n(36100),s=n(86650);function c(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}var p="news",x=(0,s.cF)();function f(e,t){return h.apply(this,arguments)}function h(){return(h=l(a().mark((function e(t,n){var r,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",!n){e.next=8;break}return c=(0,s.iH)(x,"news/".concat(Date.now(),"_").concat(n.name)),e.next=5,(0,s.KV)(c,n);case 5:return e.next=7,(0,s.Jt)(c);case 7:r=e.sent;case 8:return e.next=10,(0,o.ET)((0,o.hJ)(i.db,p),d({},t,{imageUrl:r,created:(new Date).toISOString()}));case 10:return l=e.sent,e.abrupt("return",l.id);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return m.apply(this,arguments)}function m(){return(m=l(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.IO)((0,o.hJ)(i.db,p),(0,o.Xo)("created","desc")),e.next=3,(0,o.PL)(t);case 3:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return d({id:e.id},e.data())})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r){return g.apply(this,arguments)}function g(){return(g=l(a().mark((function e(t,n,r,c){var l,u,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=c||"",!r){e.next=17;break}if(!c){e.next=11;break}return e.prev=3,u=(0,s.iH)(x,c),e.next=7,(0,s.oq)(u);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:return f=(0,s.iH)(x,"news/".concat(Date.now(),"_").concat(r.name)),e.next=14,(0,s.KV)(f,r);case 14:return e.next=16,(0,s.Jt)(f);case 16:l=e.sent;case 17:return e.next=19,(0,o.r7)((0,o.JU)(i.db,p,t),d({},n,{imageUrl:l,updated:(new Date).toISOString()}));case 19:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function w(e,t){return y.apply(this,arguments)}function y(){return(y=l(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return e.prev=1,r=(0,s.iH)(x,n),e.next=5,(0,s.oq)(r);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.next=11,(0,o.oe)((0,o.JU)(i.db,p,t));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}}},function(e){e.O(0,[5124,7739,8858,1903,6279,3203,6038,1050,9774,2888,179],(function(){return t=45577,e(e.s=t);var t}));var t=e.O();_N_E=t}]);